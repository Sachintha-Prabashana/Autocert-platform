<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autocert - Trust in Every Vehicle Transaction</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link rel="stylesheet" href="/Frontend/css/style.css">
    <style>
       
        /* Listings Section */
        .listings {
            padding: 80px 0;
            background-color: #f5f7fa;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 50px;
            color: #2c3e50;
            font-weight: 700;
        }
        
        .listings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .listing-card {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .listing-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .listing-image {
            position: relative;
            height: 200px;
            overflow: hidden;
        }
        
        .listing-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .listing-card:hover .listing-image img {
            transform: scale(1.05);
        }
        
        .listing-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background-color: #27ae60;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .listing-price {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: #e74c3c;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 700;
        }
        
        .listing-content {
            padding: 20px;
        }
        
        .listing-content h3 {
            font-size: 1.4rem;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .listing-details {
            color: #7f8c8d;
            font-size: 14px;
            margin-bottom: 15px;
        }
        
        .listing-description {
            color: #5a6c7d;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .listing-features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .feature-tag {
            background-color: #f0f5ff;
            color: #3498db;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .btn-listing {
            display: block;
            text-align: center;
            background-color: #3498db;
            color: white;
            padding: 10px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        
        .btn-listing:hover {
            background-color: #2980b9;
        }
        
        .listings-cta {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav" id="navbar">
        <div class="nav-content">
            <div class="logo">🚗 Autocert</div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#listings">Listings</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <div class="auth-buttons">
                <button class="btn-auth btn-signin" id="signInBtn">Sign In</button>
                <button class="btn-auth btn-signup" id="signUpBtn">Sign Up</button>
            </div>
        </div>
    </nav>
 <!-- Sign Up Modal -->
    <div class="modal" id="signUpModal">
        <div class="modal-content">
            <button class="modal-close" id="signUpModalClose">✕</button>
            <div class="modal-header">
                <h2>Join Autocert</h2>
                <p>Create your account and start your journey</p>
            </div>
            <form id="signUpForm">
                <div class="form-row">
                    <div class="form-group form-half">
                        <label for="firstName">First Name</label>
                        <input type="text" id="firstName" class="form-input" placeholder="First name" required>
                    </div>
                    <div class="form-group form-half">
                        <label for="lastName">Last Name</label>
                        <input type="text" id="lastName" class="form-input" placeholder="Last name" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="signUpEmail">Email Address</label>
                    <input type="email" id="signUpEmail" class="form-input" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="phoneNumber">Phone Number</label>
                    <input type="tel" id="phoneNumber" class="form-input" placeholder="Enter your phone number" required>
                </div>
                <div class="form-group">
                    <label for="signUpPassword">Password</label>
                    <input type="password" id="signUpPassword" class="form-input" placeholder="Create a password" required>
                    <div class="password-strength" id="passwordStrength"></div>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password" id="confirmPassword" class="form-input" placeholder="Confirm your password" required>
                    <div class="password-match" id="passwordMatch"></div>
                </div>
                <button type="submit" class="signin-btn">Create Account</button>
            </form>
            <div class="divider">
                <span>or continue with</span>
            </div>
            <button class="google-btn" id="googleSignUp">
                <svg width="20" height="20" viewBox="0 0 24 24">
                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                Sign up with Google
            </button>
            <div class="signup-link">
                Already have an account? <a href="#" id="switchToSignIn">Sign in here</a>
            </div>
        </div>
    </div>

    <!-- Sign In Modal -->
    <div class="modal" id="signInModal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">✕</button>
            <div class="modal-header">
                <h2>Welcome Back</h2>
                <p>Sign in to your Autocert account</p>
            </div>
            <form id="signInForm">
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" class="form-input" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" class="form-input" placeholder="Enter your password" required>
                </div>
                <div class="form-options">
                    <div class="checkbox-group">
                        <input type="checkbox" id="remember">
                        <label for="remember">Remember me</label>
                    </div>
                    <a href="#" class="forgot-password">Forgot password?</a>
                </div>
                <button type="submit" class="signin-btn">Sign In</button>
            </form>
            <div class="divider">
                <span>or continue with</span>
            </div>
            <button class="google-btn">
                <svg width="20" height="20" viewBox="0 0 24 24">
                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                Sign in with Google
            </button>
            <div class="signup-link">
                Don't have an account? <a href="#" id="switchToSignUp">Sign up here</a>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="floating-shape shape-1"></div>
        <div class="floating-shape shape-2"></div>
        <div class="floating-shape shape-3"></div>
        
        <div class="hero-content">
            <h1>Trust in Every Vehicle Transaction</h1>
            <p>Professional vehicle inspections, seamless buying and selling experience. Your trusted partner in automotive excellence.</p>
            <div class="cta-buttons">
                <a href="#" class="btn btn-primary">Get Inspection</a>
                <a href="#" class="btn btn-secondary">Browse Vehicles</a>
            </div>
        </div>
    </section>

     <!-- Listings Section -->
    <section class="listings" id="listings">
        <div class="container">
            <h2 class="section-title fade-in">Featured Listings</h2>
            <div class="listings-grid" id="vehicleContainer">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>Loading vehicles...</p>
                </div>
            </div>
            <div class="listings-cta">
                <a href="#" class="btn btn-primary">View All Listings</a>
                <a href="#" class="btn btn-secondary">Sell Your Car</a>
            </div>
        </div>
    </section>

    <section class="features" id="features">
        <div class="container">
            <h2 class="section-title fade-in">Why Choose Autocert?</h2>
            <div class="features-grid">
                <div class="feature-card fade-in">
                    <div class="feature-icon">🔍</div>
                    <h3>Professional Inspections</h3>
                    <p>Comprehensive 150-point vehicle inspections by certified technicians. Get detailed reports with photos and recommendations.</p>
                </div>
                <div class="feature-card fade-in">
                    <div class="feature-icon">💰</div>
                    <h3>Secure Buying & Selling</h3>
                    <p>Safe and transparent marketplace with verified listings, secure payments, and comprehensive buyer protection.</p>
                </div>
                <div class="feature-card fade-in">
                    <div class="feature-icon">📱</div>
                    <h3>Digital Experience</h3>
                    <p>Modern platform with mobile app, real-time updates, digital documents, and seamless user experience.</p>
                </div>
                <div class="feature-card fade-in">
                    <div class="feature-icon">🛡️</div>
                    <h3>Trust & Transparency</h3>
                    <p>Every vehicle comes with a detailed history report, inspection certificate, and warranty options for peace of mind.</p>
                </div>
                <div class="feature-card fade-in">
                    <div class="feature-icon">⚡</div>
                    <h3>Fast & Efficient</h3>
                    <p>Quick scheduling, same-day inspections available, and streamlined processes that save you time and money.</p>
                </div>
                <div class="feature-card fade-in">
                    <div class="feature-icon">🎯</div>
                    <h3>Expert Support</h3>
                    <p>Dedicated customer support team and automotive experts available to guide you through every step.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-item fade-in">
                    <h3 id="inspections">0</h3>
                    <p>Inspections Completed</p>
                </div>
                <div class="stat-item fade-in">
                    <h3 id="vehicles">0</h3>
                    <p>Vehicles Sold</p>
                </div>
                <div class="stat-item fade-in">
                    <h3 id="customers">0</h3>
                    <p>Happy Customers</p>
                </div>
                <div class="stat-item fade-in">
                    <h3 id="rating">0</h3>
                    <p>Average Rating</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content fade-in">
                <h2>Ready to Start Your Journey?</h2>
                <p>Join thousands of satisfied customers who trust Autocert for their vehicle needs. Get started today and experience the difference.</p>
                <a href="#" class="btn btn-primary">Get Started Now</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">About Us</a>
                <a href="#">Contact</a>
                <a href="#">Careers</a>
            </div>
            <p>&copy; 2025 Autocert. All rights reserved. Your trusted vehicle inspection and marketplace platform.</p>
        </div>
    </footer>
   
       <script>
        document.addEventListener("DOMContentLoaded", () => {
            console.log("DOM loaded, fetching vehicles...");
            loadApprovedVehicles();
            setupAnimations();
        });

        async function loadApprovedVehicles() {
            const container = document.getElementById("vehicleContainer");
            if (!container) {
                console.error("Vehicle container not found!");
                return;
            }

            try {
                // Try to fetch from API first
                const res = await fetch(`http://localhost:8080/api/vehicles/approved`, {
                    method: "GET",
                    headers: { "Content-Type": "application/json" }
                });

                let vehicles = [];

                if (res && res.ok) {
                    vehicles = await res.json();
                    console.log("Vehicles received from API:", vehicles);
                } else {
                    // If API fails, use sample data
                    console.log("API not available, using sample data");
                    vehicles = sampleVehicles;
                }

                renderVehicles(vehicles);
                
            } catch (error) {
                console.error("Error loading vehicles, using sample data:", error);
                renderVehicles(sampleVehicles);
            }
        }

        function renderVehicles(vehicles) {
            const container = document.getElementById("vehicleContainer");
            
            if (!vehicles || vehicles.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-car" style="font-size: 48px; margin-bottom: 15px; color: #ddd;"></i>
                        <h3>No vehicles available</h3>
                        <p>Check back later for new listings</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = vehicles.map(vehicle => {
                const mainImage = (vehicle.photos && vehicle.photos.length > 0) 
                    ? vehicle.photos[0] 
                    : `https://via.placeholder.com/300x200/95a5a6/ffffff?text=${vehicle.make}+${vehicle.model}`;

                return `
                    <div class="listing-card fade-in">
                        <div class="listing-image">
                            <img src="${mainImage}" alt="${vehicle.make} ${vehicle.model}">
                            <div class="listing-badge">✅ Certified</div>
                            <div class="listing-price">${formatPrice(vehicle.price)}</div>
                        </div>
                        <div class="listing-content">
                            <h3>${vehicle.year} ${vehicle.make} ${vehicle.model}</h3>
                            <p class="listing-details">
                                ${vehicle.mileage || "N/A"} miles • ${vehicle.transmission || "-"} • ${vehicle.bodyType || "-"}
                            </p>
                            <p class="listing-description">${vehicle.description || "No description available."}</p>
                            <div class="listing-features">
                                <span class="feature-tag">🛡️ Warranty</span>
                                <span class="feature-tag">📋 Inspected</span>
                                <span class="feature-tag">🔧 Serviced</span>
                            </div>
                            <a href="vehicle-details.html?id=${vehicle.id}" class="btn-listing">View Details</a>
                        </div>
                    </div>
                `;
            }).join('');

            // Re-initialize animations for new elements
            setTimeout(setupAnimations, 100);
        }

        function formatPrice(price) {
            if (!price) return "Contact for price";
            return "LKR " + price.toLocaleString("en-US");
        }

        function setupAnimations() {
            const fadeElements = document.querySelectorAll('.fade-in');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });
            
            fadeElements.forEach(el => observer.observe(el));
            
            // Animate stats
            animateValue("inspections", 0, 12500, 2000);
            animateValue("vehicles", 0, 8400, 2000);
            animateValue("customers", 0, 15600, 2000);
            animateValue("rating", 0, 4.9, 2000);
        }

        function animateValue(id, start, end, duration) {
            const element = document.getElementById(id);
            if (!element) return;
            
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                
                if (id === "rating") {
                    element.innerHTML = (progress * end).toFixed(1);
                } else {
                    element.innerHTML = Math.floor(progress * (end - start) + start).toLocaleString();
                }
                
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }
    </script>


    <!-- <script src="/Frontend/js/utils.js"></script> -->
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
     <script src="/Frontend/js/script.js"></script>
    <!-- <script src="/Frontend/js/login.js"></script>
    <script src="/Frontend/js/register.js"></script> -->
    
</body>
</html>